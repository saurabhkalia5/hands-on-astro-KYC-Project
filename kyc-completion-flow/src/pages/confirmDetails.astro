---
import KycFlowLayout from "../layouts/KycFlowLayout.astro";
import { getCollection } from "astro:content";

const user = await getCollection("user");
const currentUser = user[0];

---

<KycFlowLayout>
<div class="container">
    <!-- User Details -->
    <div class="card">
      <div class="card-header">
        User Details <span class="edit">Edit</span>
      </div>
      <div class="card-content">
        <p>PAN Card Number: Indian citizen</p>
        <p>Name: {currentUser.data.name}</p>
      </div>
    </div>
  
    <!-- Personal Details -->
    <div class="card">
      <div class="card-header">
        Personal Details
      </div>
      <div class="card-content">
        <p>Gender: {currentUser.data.gender}</p>
        <p>Date of Birth:{currentUser.data.date_of_birth}</p>
        <p>Address: {currentUser.data.address}</p>
        <p>Pincode: {currentUser.data.pincode}</p>
        <div class="note">
          Note: You cannot edit the above details as they are already verified through Digilocker.
        </div>
      </div>
    </div>
  
    <!-- KYC Details -->
    <div class="card">
      <div class="card-header">
        KYC Details <span class="edit">Edit</span>
      </div>
      <div class="card-content">
        <p>Email: {currentUser.data.email}</p>
        <p>Marital Status: {currentUser.data.marital_status}</p>
        <p>Annual Income:{currentUser.data.annual_income}</p>
        <p>Father's Name: {currentUser.data.father_name}</p>
        <p>Mother's Name:{currentUser.data.mother_name}</p>
      </div>
    </div>
  
    <!-- Documents -->
    <div class="card">
      <div class="card-header">
        Documents <span class="edit">Edit</span>
      </div>
      <div class="documents">
        <div class="document-placeholder">Photo</div>
        <div class="document-placeholder">{currentUser.data.pan_card_number}</div>
        <div class="document-placeholder">Signature</div>
      </div>
    </div>
  
    <!-- Terms and Buttons -->
    <div class="terms">
      <label>
        <input type="checkbox" /> I agree to the <a href="#">Terms & Conditions</a>
      </label>
    </div>
    <div class="buttons">
      <button class="next-btn">Next</button>
      <button class="skip-btn">Skip for now</button>
    </div>
  </div>
</KycFlowLayout>


<style>
    .container {
      height: 100%;
      max-width: 600px;
      margin: auto;
      font-family: Arial, sans-serif;
      padding: 20px;
    background-color: white;
    }
  
    .card {
      background: white;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      margin-bottom: 15px;
      padding: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
  
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 10px;
    }
  
    .card-header .edit {
      font-size: 14px;
      color: #007bff;
      cursor: pointer;
    }
  
    .card-content p {
      margin: 5px 0;
      font-size: 14px;
      line-height: 1.5;
    }
  
    .note {
      font-size: 12px;
      color: #888;
      margin-top: 10px;
      background: #f1f1f1;
      padding: 10px;
      border-radius: 4px;
    }
  
    .documents {
      display: flex;
      gap: 10px;
    }
  
    .document-placeholder {
      flex: 1;
      height: 80px;
      border: 2px dashed #d0d0d0;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      color: #888;
    }
  
    .terms {
      margin: 15px 0;
      font-size: 14px;
    }
  
    .terms a {
      color: #007bff;
      text-decoration: none;
    }
  
    .buttons {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
  
    .next-btn {
      background-color: #004680;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 14px;
      cursor: pointer;
      border-radius: 4px;
    }
  
    .skip-btn {
      font-size: 14px;
      color: #555;
      background: none;
      border: none;
      cursor: pointer;
      text-decoration: underline;
    }
  </style>